<!DOCTYPE HTML>
<html>
    <head>
        <title>Lemonade</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.5/flatly/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js" type="text/javascript"></script>
    </head>

    <body>
        <div class="navbar navbar-default">
            <div class="navbar-header">
                <a href="http://thesheps.github.io/lemonade" class="navbar-brand">Lemonade</a>
				<a href="configuration.html" class="navbar-brand">Configuration</a>
				<a href="usage.html" class="navbar-brand">Usage</a>
            </div>
        </div>
		
        <div class="container">
            <h2>Configuration</h2>
            <p>By default, Lemonade will configure itself to use your application's current web or app.config file.  This can be overridden at composition root:</p>
            <pre><code>public class Program
{
    public static void Main(string[] args)
    {
        Feature.Resolver = new SqlFeatureResolver();

        // Or
        Feature.Resolver = new AppConfigFeatureResolver();

        // Or
        Feature.Resolver = new HttpFeatureResolver();
    }
}</code></pre>

<br/>

            <p>Or via Xml Configuration:</p>
            <pre><strong>SqlFeatureProvider</strong>
<code>&lt?xml version="1.0" encoding="utf-8"?&gt
&ltconfiguration&gt
  &ltconfigSections&gt
    &ltsection name="FeatureConfiguration" type="Lemonade.FeatureConfigurationSection, Lemonade"/&gt
  &lt/configSections&gt

  &ltFeatureConfiguration FeatureResolver="Lemonade.Sql.SqlFeatureResolver"/&gt

  &ltconnectionStrings&gt
    &ltconnectionString name="Lemonade" connectionString="Data Source=blahblahblah" /&gt
  &lt/connectionStrings&gt
&ltconfiguration/&gt</code></pre>

<pre><strong>HttpFeatureProvider</strong>
<code>&lt?xml version="1.0" encoding="utf-8"?&gt
&ltconfiguration&gt
  &ltconfigSections&gt
    &ltsection name="FeatureConfiguration" type="Lemonade.FeatureConfigurationSection, Lemonade"/&gt
  &lt/configSections&gt

  &ltFeatureConfiguration FeatureResolver="Lemonade.Resolvers.HttpFeatureResolver"/&gt

  &ltappSettings&gt
    &ltadd key="LemonadeServiceUrl" value="http://blahblahblah"/&gt
  &lt/appSettings&gt
&ltconfiguration/&gt</code>
</pre>

<p>
    As you may (or may not...) be able to tell from the above examples, convention-based configuration of Lemonade requires
    the resolver to have a parameterless constructor.  All configuration is determined using assumed connection string/appsetting
    keys.
</p>
<br/>
<p><strong>The SqlFeatureResolver</strong> requires a connection string with a name of "Lemonade".</p>
<p><strong>The HttpFeatureResolver</strong> requires an app setting with the key "LemonadeServiceUrl" to target the Lemonade Http service.</p>

<br/>

<h2>Database Schema.</h2>
<p>Lemonade ships with a migration component to restore or drop the schema at will.  This is FluentMigrator-driven, and is supported by a versions table to prevent migrations being run in more than once:</p>
<pre><code>Runner.SqlServer("LemonadeConnectionString").Up()</code></pre>
</div>
    </body>
</html>